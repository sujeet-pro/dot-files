#####################################################
# ~/.config/starship.toml - Prompt configuration
#
# This config assumes you are using a "Nerd Font" in
# your terminal (e.g., JetBrainsMono Nerd Font,
# FiraCode Nerd Font, MesloLGS Nerd Font, etc.) so
# that the icons and symbols render correctly.
#####################################################

########################
# Global configuration #
########################

# Insert a blank line between shell prompts for readability.
add_newline = true

# Maximum time (in milliseconds) starship will spend rendering
# the prompt for a single command. Keeps things snappy even in
# large git repos.
command_timeout = 800

# How long to scan the current directory (in milliseconds) to
# detect language tools / git / etc.
scan_timeout = 50

# Overall prompt format: which "modules" appear and in what order.
# Here:
#  - First line: directory, git branch, git status, and language info.
#  - Second line: prompt character.
format = """
$directory$git_branch$git_status$python$nodejs$golang$java
$character"""

#################
# Prompt symbol #
#################

[character]
# Symbol when the last command succeeded (exit code 0).
success_symbol = "[❯](bold green) "
# Symbol when the last command failed (non-zero exit code).
error_symbol = "[❯](bold red) "
# Symbol when in vi "normal" mode (if Zsh is using vi keybindings).
vicmd_symbol = "[❮](bold yellow) "

##############
# Directory  #
##############

[directory]
# Number of path segments to show:
#  - 3 means /Users/sujeet/work/project/src -> ~/work/project/src
#  - Deep paths are truncated from the left to keep prompt short.
truncation_length = 3

# When inside a git repo, hide everything above the repo root.
truncate_to_repo = true

# Replace $HOME path with ~.
home_symbol = "~"

# Styling of the displayed directory path.
style = "bold cyan"

# Icon appended when the directory is read-only (e.g., no write permission).
# This is only a visual indicator; starship doesn’t change permissions.
read_only = " "

###################
# Git information #
###################

[git_branch]
# Icon displayed before the git branch name.
symbol = " "

# Shorten long branch names to this length.
truncation_length = 24
truncation_symbol = "…"

# Visual style for the branch name.
style = "bold purple"

[git_status]
# Overall format of git status information.
# $all_status  - symbols representing changed/untracked files.
# $ahead_behind - whether the branch is ahead/behind remote.
format = "([$all_status$ahead_behind] )"

# Symbols for different states. These render only when relevant.
conflicted = "≠"   # Merge conflicts present.
ahead      = "⇡"   # Commits ahead of remote.
behind     = "⇣"   # Commits behind remote.
diverged   = "⇕"   # Both ahead and behind.
untracked  = "…"   # Untracked files.
stashed    = "⚑"   # Stashed changes.
modified   = "✚"   # Modified files.
staged     = "●"   # Staged changes.
renamed    = "»"   # Renamed files.
deleted    = "✖"   # Deleted files.

# Leave enabled to always show git info when in a repo.
disabled = false

##########################
# Language indicators    #
##########################
# These modules appear only when starship detects that the
# language is relevant (e.g. presence of package.json / go.mod).

[python]
# Symbol shown when inside a Python project.
symbol = " "
# Format:
#   $symbol   - icon above
#   $version  - resolved Python version (works with pyenv)
#   $virtualenv - virtualenv name if active
format = "[$symbol$version]($style) "
style = "bold yellow"
python_binary = "python"

[nodejs]
# Shown when package.json, node_modules, etc., are present.
symbol = "⬢ "
format = "[$symbol$version]($style) "
style = "bold green"

[golang]
# Shown when go.mod, go.sum, or *.go files are present.
symbol = " "
format = "[$symbol$version]($style) "
style = "bold cyan"

[java]
# Shown when pom.xml, build.gradle, or similar files exist.
symbol = "☕ "
format = "[$symbol$version]($style) "
style = "bold red"

##########################
# Time (optional)        #
##########################

[time]
# Set to false if you want the time displayed in every prompt.
disabled = true
# Display format (24h).
time_format = "%H:%M"
# Visual style for the time.
style = "dim white"
# Format string used if enabled.
format = "[$time]($style) "

##########################
# Command duration       #
##########################

[cmd_duration]
# Show how long the last command took if it exceeded this many milliseconds.
min_time = 1000          # 1 second
# Format string:
#   $duration - human-readable duration (e.g., 2s, 150ms).
format = "⏱ [$duration]($style) "
style = "bold yellow"
show_milliseconds = false

##########################
# AWS profile (optional) #
##########################

[aws]
# Use this to avoid accidentally running commands under the wrong AWS profile.
# It picks up AWS_PROFILE / AWS_DEFAULT_PROFILE from your environment.
format = "[aws:$profile]($style) "
style = "bold blue"
# Disable by default to avoid clutter; flip to false if you want always-on.
disabled = true

#############################
# Kubernetes context (opt.) #
#############################

[kubernetes]
# Shows the current kube context (useful for switching between clusters).
format = "[(⎈ $context)]($style) "
style = "bold purple"
# Disable by default for performance; enable if you frequently work with k8s.
disabled = true

##########################
# Battery (optional)     #
##########################

[battery]
# This can show battery level on laptops; kept disabled to avoid noise.
disabled = true

##########################
# End of configuration   #
##########################
